<!DOCTYPE html>
<html xmlns:th="http://www.thymelaf.org"><head>
    <meta charset="UTF-8">
    <title>Update Password</title>
    <object th:include="fragments/fragment :: css" th:remove="tag"></object>
    <object th:include="fragments/fragment :: js" th:remove="tag"></object>
</head>
<body>
<nav th:replace="fragments/fragment :: navbar (pageTitle='Update Password')"></nav>

<h2>Update Password</h2>
<form th:action="@{/user/change-password/{username}(username=${#httpServletRequest.remoteUser})}" th:object="${user}" method="POST">
    <div id="errormsg" style="display:none"></div>

    <input type="hidden" th:field="${user.id}" />
    <input type="hidden" th:field="${user.username}" />
    <input type="hidden" th:field="${user.role}" />

    Password Lama: <br>
    <input id="oldpass" type="password" class="col-sm-8 form-control input-sm" name="oldpassword">
    <br>

    Password Baru: <br>
    <input id="pass" type="password" class="col-sm-8 form-control input-sm" name="password">
    <br>

    Konfirmasi Password Baru: <br>
    <input id="passConfirm" type="password" class="col-sm-8 form-control input-sm" name="passwordKonfirmasi">
    <br>
    <span id="error" class="alert alert-danger" role="alert">Konfirmasi Password berbeda!</span>

    <br>
    <button class="btn btn-primary" type="submit" >Submit</button>

</form>
</body>
</html>